(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{295:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),o=n(6),s=n.n(o),i=n(7),c=n.n(i),u=n(8),l=n.n(u),d=n(9),m=n.n(d),p=n(0),h=n.n(p),f=(n(20),n(61)),C=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("h1",{className:"title"},"Liste des produits"),h.a.createElement(f.a,null))}}]),t}(h.a.Component);t.default=C},61:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(5),a=n.n(r),o=n(6),s=n.n(o),i=n(7),c=n.n(i),u=n(8),l=n.n(u),d=n(16),m=n.n(d),p=n(9),h=n.n(p),f=n(0),C=n.n(f),E=n(10),v=n(68),b=n(15),O=n.n(b),y=n(19),S={OTHER:"Autre",SHOT:"Shots",FOOD:"Nourriture",COCKTAIL:"Cocktails",BEER:"Bière",SOFT:"Soft"},g=function(e){function t(e){var n;return a()(this,t),(n=c()(this,l()(t).call(this,e))).state={allProducts:[],filtered:[],selected:-1},n.searchBarChange=n.searchBarChange.bind(m()(n)),n.onProductSelection=n.onProductSelection.bind(m()(n)),n}return h()(t,e),s()(t,[{key:"searchBarChange",value:function(e){var t=e.target.value.toLowerCase();this.setState(function(e,n){return{filtered:e.allProducts.filter(n.preFilter).filter(function(e){if(-1!==e.name.toLowerCase().indexOf(t))return!0;var n=S[e.product_type];return!(!n||-1===n.toLowerCase().indexOf(t))||-1!==e.ingredients.reduce(function(e,t){return e+" "+t},"").toLowerCase().indexOf(t)})}})}},{key:"onProductSelection",value:function(e){this.setState(function(t,n){var r=t.selected===e?-1:e;return n.onProductSelection(r),{selected:r}})}},{key:"componentDidMount",value:function(){var e=this;Object(y.h)().then(function(t){t.ok&&e.setState({allProducts:t.products,filtered:t.products.filter(e.props.preFilter)})}).catch(console.log)}},{key:"render",value:function(){var e=this,t={SHOT:[],COCKTAIL:[],FOOD:[],BEER:[],SOFT:[],OTHER:[]};return this.state.filtered.forEach(function(e){t[e.product_type]&&t[e.product_type].push(e)}),C.a.createElement(C.a.Fragment,null,this.props.showSearchBar&&C.a.createElement("div",{className:"columns"},C.a.createElement("div",{className:"column is-two-fifths"},C.a.createElement("p",{className:"control has-icons-left"},C.a.createElement("input",{className:"input",type:"text",placeholder:"Rechercher",onChange:this.searchBarChange}),C.a.createElement(E.a,{iconName:"search",iconClasses:"is-small is-left"})))),C.a.createElement(v.d,null,Object.keys(t).filter(function(e){return t[e].length>0}).map(function(n){return C.a.createElement(v.b,{key:n,name:S[n]},t[n].map(function(t){return C.a.createElement(v.a,{key:t.id,product:t,onCommand:e.props.onCommand,onSelect:e.onProductSelection,selected:e.state.selected===t.id,showCommandButton:e.props.showCommandButton})}))}),0===Object.keys(t).filter(function(e){return t[e].length>0}).length&&C.a.createElement("h2",{className:"subtitle has-text-centered is-size-6"},"Pas de produits")))}}]),t}(C.a.Component);g.propTypes={showCommandButton:O.a.bool,onCommand:O.a.func,showSearchBar:O.a.bool,preFilter:O.a.func,onProductSelection:O.a.func},g.defaultProps={showCommandButton:!1,onCommand:function(){},showSearchBar:!0,preFilter:function(){return!0},onProductSelection:function(){}}},64:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(15),a=n.n(r),o=a.a.shape({id:a.a.number.isRequired,name:a.a.string.isRequired,price:a.a.number.isRequired,old:a.a.bool.isRequired,product_type:a.a.oneOf(["SHOT","FOOD","COCKTAIL","OTHER","BEER","SOFT"]).isRequired,ingredients:a.a.arrayOf(a.a.shape({id:a.a.number.isRequired,name:a.a.string.isRequired})).isRequired}),s=a.a.shape({user:a.a.number,part:a.a.number.isRequired,product:a.a.number.isRequired,id:a.a.number.isRequired})},68:function(e,t,n){"use strict";var r=n(5),a=n.n(r),o=n(6),s=n.n(o),i=n(7),c=n.n(i),u=n(8),l=n.n(u),d=n(9),m=n.n(d),p=n(0),h=n.n(p),f=n(15),C=n.n(f),E=n(64),v=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){var e=this;return h.a.createElement("li",null,h.a.createElement("a",{className:this.props.selected?"is-active":"",onClick:function(){return e.props.onSelect(e.props.product.id)}},h.a.createElement("div",{className:"columns is-gapless is-multiline"},h.a.createElement("div",{className:"column is-12"},this.props.product.name,h.a.createElement("span",{className:"has-text-right",style:{float:"right"}},this.props.product.price,"€")),this.props.selected&&this.props.product.ingredients.length>0&&h.a.createElement("div",{className:"column is-size-7"},this.props.product.ingredients.map(function(e){return e.name}).reduce(function(e,t){return"".concat(e,", ").concat(t)}))),this.props.showCommandButton&&this.props.selected&&h.a.createElement("button",{className:"button is-link",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.onCommand(e.props.product.id)}},"Commander")))}}]),t}(h.a.Component);v.propTypes={selected:C.a.bool,showCommandButton:C.a.bool,onCommand:C.a.func,onSelect:C.a.func,product:E.b.isRequired},v.defaultProps={selected:!1,showCommandButton:!1,onCommand:function(){},onSelect:function(){}};var b=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("p",{className:"menu-label"},this.props.name),h.a.createElement("ul",{className:"menu-list"},this.props.children))}}]),t}(h.a.Component),O=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return m()(t,e),s()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"columns"},h.a.createElement("div",{className:"column is-two-fifths"},h.a.createElement("aside",{className:"menu"},this.props.children)))}}]),t}(h.a.Component),y=n(61);n.d(t,"a",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"d",function(){return O}),n.d(t,"c",function(){return y.a})}}]);