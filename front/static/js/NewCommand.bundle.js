(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{115:function(e,t,n){"use strict";var a=n(5),r=n.n(a),s=n(6),i=n.n(s),o=n(7),c=n.n(o),u=n(8),l=n.n(u),m=n(9),d=n.n(m),p=n(0),h=n.n(p),f=n(15),b=n.n(f),v=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"modal ".concat(this.props.active?"is-active":"")},h.a.createElement("div",{className:"modal-background",onClick:this.props.onClose}),this.props.children)}}]),t}(h.a.Component);v.propTypes={active:b.a.bool,onClose:b.a.func.isRequired},v.defaultProps={active:!1};var C=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"modal-card"},this.props.children)}}]),t}(h.a.Component),E=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return h.a.createElement("header",{className:"modal-card-head"},this.props.title&&h.a.createElement("p",{className:"modal-card-title has-text-centered"},this.props.title),h.a.createElement("button",{className:"delete","aria-label":"close",onClick:this.props.onClose}))}}]),t}(h.a.Component);E.propTypes={title:b.a.string,onClose:b.a.func.isRequired};var y=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return h.a.createElement("section",{className:"modal-card-body"},this.props.children)}}]),t}(h.a.Component),g=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return h.a.createElement("footer",{className:"modal-card-foot"},this.props.children)}}]),t}(h.a.Component);n.d(t,"a",function(){return v}),n.d(t,"b",function(){return C}),n.d(t,"e",function(){return E}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return g})},301:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),s=n(5),i=n.n(s),o=n(6),c=n.n(o),u=n(7),l=n.n(u),m=n(8),d=n.n(m),p=n(16),h=n.n(p),f=n(9),b=n.n(f),v=n(0),C=n.n(v),E=(n(22),n(21),n(19)),y=(n(20),n(15)),g=n.n(y),P=n(85),k=n(62),N=n(64),O=function(e){function t(e){var n;return i()(this,t),(n=l()(this,d()(t).call(this,e))).addParticipant=n.addParticipant.bind(h()(n)),n.removeParticipant=n.removeParticipant.bind(h()(n)),n.calculatePrices=n.calculatePrices.bind(h()(n)),n.submit=n.submit.bind(h()(n)),n.calculatePricesFrom=n.calculatePricesFrom.bind(h()(n)),n.state={participants:[],pricePerUser:{}},n}return b()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e,t,n){e.price!==this.props.price&&this.calculatePrices()}},{key:"submit",value:function(){var e=this;this.setState(function(t,n){var a=[];return t.participants.forEach(function(n){a.push({user:n,product:e.props.product.id,part:t.pricePerUser[n]})}),e.props.submitContributions(a),{}})}},{key:"addParticipant",value:function(e){this.setState(function(t,n){var a=t.participants.slice();return a.push(e),{participants:a}}),this.calculatePrices(),this.submit()}},{key:"removeParticipant",value:function(e){this.setState(function(t,n){return{participants:t.participants.filter(function(t){return t!==e})}}),this.calculatePrices(),this.submit()}},{key:"calculatePricesFrom",value:function(e,t){var n=e.participants.length;if(0===n)return{pricePerUser:{}};var a={},r=t.price,s=Math.floor(r/n*100)/100;return e.participants.forEach(function(e,t){var i;i=t<n-1?s:r,i=Math.round(100*i)/100,r-=i,a[e]=i}),{pricePerUser:a}}},{key:"calculatePrices",value:function(){var e=this;this.setState(function(t,n){return e.calculatePricesFrom(t,n)})}},{key:"render",value:function(){var e=this;return C.a.createElement(C.a.Fragment,null,C.a.createElement("h2",{className:"subtitle is-size-5"},"3. Sélectionnez les membres participants à cette commande"),C.a.createElement(P.b,null,this.props.partyMembers.map(function(t){return C.a.createElement(P.a,{key:t,selected:e.state.participants.includes(t),onSelect:function(){return e.addParticipant(t)},onDeselect:function(){return e.removeParticipant(t)}},C.a.createElement(P.c,null,C.a.createElement(k.a,{userId:t})),C.a.createElement(P.c,null,void 0!==e.state.pricePerUser[t]?C.a.createElement(C.a.Fragment,null,e.state.pricePerUser[t],"€"):C.a.createElement("span",{className:"icon"})))})))}}]),t}(C.a.Component);O.propTypes={product:N.b.isRequired,price:g.a.number.isRequired,partyMembers:g.a.arrayOf(g.a.number).isRequired,submitContributions:g.a.func.isRequired};var S=n(10),R=n(68),w=n(115),M=n(23),j=n(25);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=function(e){function t(e){var n;return i()(this,t),(n=l()(this,d()(t).call(this,e))).onCommand=n.onCommand.bind(h()(n)),n.closeModal=n.closeModal.bind(h()(n)),n.calculatePrices=n.calculatePrices.bind(h()(n)),n.getRemainingCount=n.getRemainingCount.bind(h()(n)),n.submitCommand=n.submitCommand.bind(h()(n)),n.getPriceForCurrentState=n.getPriceForCurrentState.bind(h()(n)),n.sendContributions=n.sendContributions.bind(h()(n)),n.state={modalOpened:!1,selectedProduct:null,selectedCount:1,selectedMember:0,prices:n.calculatePrices(),membersNames:{},commands:[],nextCommandId:0},n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.partyMembers.forEach(function(t){Object(j.b)(t).then(function(n){n.ok&&e.setState(function(e){var a=Object.assign({},e.membersNames);return a[t]=n.user.username,{membersNames:a}})}).catch(console.log)})}},{key:"componentDidUpdate",value:function(e,t,n){e.price!==this.props.price&&(this.setState({prices:this.calculatePrices()}),this.sendContributions())}},{key:"sendContributions",value:function(){var e=this;this.setState(function(t,n){if(0===e.getRemainingCount(t)){var a=[],r=0;t.commands.forEach(function(e){for(var n=0;n<e.count;n++)a.push({product:e.product.id,user:e.member,part:t.prices[r]}),r+=1}),n.submitContributions(a)}else n.submitContributions([]);return{}})}},{key:"calculatePrices",value:function(){return this.dispatch(this.props.price,14)}},{key:"dispatch",value:function(e,t){if(1===t)return Math.round(100*e)/100;var n=Math.round(e/t*100)/100;return[n].concat(this.dispatch(e-n,t-1))}},{key:"closeModal",value:function(){this.setState({modalOpened:!1})}},{key:"submitCommand",value:function(){var e=this;this.state.selectedCount>0&&this.state.selectedCount<=this.getRemainingCount()&&(this.closeModal(),this.setState(function(t){var n,a=t.selectedCount,r=t.selectedProduct,s=t.selectedMember>0?t.selectedMember:null,i=t.commands.slice(),o=i.filter(function(e){return e.product.id===t.selectedProduct.id&&e.member===t.selectedMember});return o.length>0?(o[0].count+=e.state.selectedCount,n=t.nextCommandId):(i.push({count:a,product:r,member:s,id:t.nextCommandId}),n=t.nextCommandId+1),{commands:i,nextCommandId:n}}),this.sendContributions())}},{key:"onCommand",value:function(e){var t=this;Object(M.b)(e).then(function(e){e.ok?t.setState({modalOpened:!0,selectedProduct:e.product,selectedCount:1,selectedMember:0}):t.setState({modalOpened:!1,selectedProduct:null,selectedMember:0,selectedCount:1})})}},{key:"getRemainingCount",value:function(e){return e||(e=this.state),14-e.commands.map(function(e){return e.count}).reduce(function(e,t){return e+t},0)}},{key:"getPriceForCurrentState",value:function(){for(var e=14-this.getRemainingCount(),t=0,n=e;n<e+this.state.selectedCount&&n<14;n++)t+=this.state.prices[n];return t=Math.round(100*t)/100}},{key:"removeCommand",value:function(e){this.setState(function(t){return{commands:t.commands.filter(function(t){return t.id!==e})}}),this.sendContributions()}},{key:"render",value:function(){var e=this,t=this.state.commands.map(function(t,n,a){for(var r=0,s=0;s<n;s++)r+=a[s].count;for(var i=r+t.count-1,o=0,c=r;c<=i;c++)o+=e.state.prices[c];return F({},t,{start:r,end:i,price:o=Math.round(100*o)/100})});return C.a.createElement(C.a.Fragment,null,C.a.createElement("h2",{className:"subtitle is-size-5"},"3. Sélectionnez les shooters que vous souhaitez"),C.a.createElement("table",{className:"table is-striped"},C.a.createElement("thead",null,C.a.createElement("tr",null,C.a.createElement("th",null,"N°"),C.a.createElement("th",null,"Shot"),C.a.createElement("th",null,"Attribution"),C.a.createElement("th",null,"Prix"),C.a.createElement("th",null))),C.a.createElement("tbody",null,t.map(function(t){return C.a.createElement("tr",{key:t.id},C.a.createElement("td",null,t.start===t.end?C.a.createElement(C.a.Fragment,null,t.start+1):C.a.createElement(C.a.Fragment,null,"".concat(t.start+1,"-").concat(t.end+1))),C.a.createElement("td",null,t.product.name),C.a.createElement("td",null,t.member?C.a.createElement(k.a,{userId:t.member}):C.a.createElement(C.a.Fragment,null,"Non assigné")),C.a.createElement("td",null,t.price,"€"),C.a.createElement("td",null,C.a.createElement("a",{className:"delete",onClick:function(){return e.removeCommand(t.id)}})))}),0===t.length&&C.a.createElement("tr",null,C.a.createElement("td",{colSpan:5,className:"has-text-centered"},"Pas encore de shots commandés")))),this.getRemainingCount()>0?C.a.createElement(R.c,{preFilter:function(e){return"SHOT"===e.product_type},showCommandButton:!0,onCommand:this.onCommand}):C.a.createElement("h3",{className:"subtitle is-size-6"},"Nombre de shooters maximum atteint"),C.a.createElement(w.a,{onClose:this.closeModal,active:this.state.modalOpened},C.a.createElement(w.b,null,C.a.createElement(w.e,{onClose:this.closeModal,title:"Ajout de shots"}),C.a.createElement(w.c,null,this.state.selectedProduct&&C.a.createElement(R.d,null,C.a.createElement(R.b,{name:"SHOT"},C.a.createElement(R.a,{product:F({},this.state.selectedProduct,{name:this.state.selectedProduct.name+" x"+this.state.selectedCount,price:this.getPriceForCurrentState()}),selected:!0}))),C.a.createElement("h2",{className:"subtitle is-size-5"},"Quantité à ajouter :"),C.a.createElement(T,{max:this.getRemainingCount(),onValueChange:function(t){e.setState({selectedCount:t})},value:this.state.selectedCount}),C.a.createElement("h2",{className:"subtitle is-size-5"},"Commander pour :"),C.a.createElement("div",{className:"field"},C.a.createElement("div",{className:"control"},C.a.createElement("div",{className:"select"},C.a.createElement("select",{onChange:function(t){return e.setState({selectedMember:t.target.selectedIndex})},value:this.state.selectedMember},C.a.createElement("option",{key:-1,value:null},"Non assigné"),this.props.partyMembers.map(function(t){return C.a.createElement("option",{key:t,value:t,selected:e.state.selectedMember===t?"selected":void 0},e.state.membersNames[t]||"Chargement ....")})))))),C.a.createElement(w.d,null,C.a.createElement("button",{className:"button is-success",disabled:0===this.getRemainingCount(),onClick:this.submitCommand},"Ajouter"),C.a.createElement("button",{className:"button",onClick:this.closeModal},"Annuler")))))}}]),t}(C.a.Component);q.propTypes={price:g.a.number.isRequired,submitContributions:g.a.func.isRequired,partyMembers:g.a.arrayOf(g.a.number).isRequired};var T=function(e){function t(e){var n;return i()(this,t),(n=l()(this,d()(t).call(this,e))).valueChanged=n.valueChanged.bind(h()(n)),n.increment=n.increment.bind(h()(n)),n.decrement=n.decrement.bind(h()(n)),n}return b()(t,e),c()(t,[{key:"valueChanged",value:function(e){var t=e.target.value,n=Number(t);isNaN(n)||(0===t.length?n=1:-1!==t.indexOf(".")&&(t=t.substring(0,t.indexOf(".")),n=Number(t)),n<1?n=1:n>this.props.max&&(n=this.props.max),this.props.onValueChange(n))}},{key:"increment",value:function(){this.props.value<this.props.max&&this.props.onValueChange(this.props.value+1)}},{key:"decrement",value:function(){this.props.value>1&&this.props.onValueChange(this.props.value-1)}},{key:"render",value:function(){return C.a.createElement("div",{className:"field has-addons"},C.a.createElement("p",{className:"control"},C.a.createElement("a",{className:"button",disabled:this.props.value<=1,onClick:this.decrement},"-")),C.a.createElement("p",{className:"control"},C.a.createElement("input",{className:"input has-text-centered",type:"text",placeholder:"1",value:this.props.value,onChange:this.valueChanged})),C.a.createElement("p",{className:"control"},C.a.createElement("a",{className:"button",disabled:this.props.value>=this.props.max,onClick:this.increment},"+")))}}]),t}(C.a.Component);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}T.propType={max:g.a.number.isRequired,onValueChange:g.a.func.isRequired,value:g.a.number.isRequired},n.d(t,"default",function(){return I});var I=function(e){function t(e){var n;return i()(this,t),(n=l()(this,d()(t).call(this,e))).onCommand=n.onCommand.bind(h()(n)),n.backToProductChoice=n.backToProductChoice.bind(h()(n)),n.submit=n.submit.bind(h()(n)),n.setContributions=n.setContributions.bind(h()(n)),n.onPriceChange=n.onPriceChange.bind(h()(n)),n.state={commandProduct:null,partyMembers:[],productPrice:0,priceFieldValue:0,contributions:[]},n}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;this.partyId=Aviator.getCurrentRequest().namedParams.id,Object(E.k)(this.partyId).then(function(t){t.ok&&e.setState({partyMembers:t.members})}).catch(console.log)}},{key:"onPriceChange",value:function(e){var t=e.target.value,n=Number(t);!isNaN(n)&&n>=0&&(0===t.length?n=this.state.commandProduct.price:Math.floor(100*n)!==100*n&&(t=n=Math.floor(100*n)/100),this.setState({productPrice:n,priceFieldValue:t}))}},{key:"onCommand",value:function(e){var t=this;e>=0?Object(E.l)(e).then(function(e){e.ok&&t.setState({commandProduct:e.product,productPrice:e.product.price,priceFieldValue:e.product.price})}).catch(console.log):this.setState({commandProduct:null})}},{key:"backToProductChoice",value:function(){this.setState({commandProduct:null,contributions:[]})}},{key:"setContributions",value:function(e){this.setState({contributions:e})}},{key:"submit",value:function(){var e=this;Object(E.e)(this.partyId,{product:this.state.commandProduct.id,contributions:this.state.contributions}).then(function(t){t.ok&&Aviator.navigate("/parties/:id/commands/:command/",{namedParams:{id:e.partyId,command:t.command.id}})}).catch(console.log)}},{key:"render",value:function(){return C.a.createElement(C.a.Fragment,null,C.a.createElement("a",{className:"is-link navigate",href:Aviator.hrefFor("/parties/:id/",{namedParams:{id:this.partyId}})},C.a.createElement(S.a,{iconName:"arrow-left",iconClasses:"is-small"}),C.a.createElement("span",null,"Retour")),C.a.createElement("h1",{className:"title"},"Nouvelle commande"),C.a.createElement("h2",{className:"subtitle is-size-5"},"1. Sélectionnez ce que vous voulez commander"),!this.state.commandProduct&&C.a.createElement(R.c,{showCommandButton:!0,onCommand:this.onCommand}),this.state.commandProduct&&C.a.createElement(C.a.Fragment,null,C.a.createElement(R.d,null,C.a.createElement(R.b,{name:"Choisis"},C.a.createElement(R.a,{product:B({},this.state.commandProduct,{price:this.state.productPrice}),selected:!0,onSelect:this.backToProductChoice}))),C.a.createElement("h2",{className:"subtitle is-size-5"},"2. Changez le prix si celui-ci n'est pas valide"),C.a.createElement("div",{className:"field has-addons"},C.a.createElement("div",{className:"control"},C.a.createElement("input",{className:"input has-text-right",name:"price",type:"text",placeholder:this.state.commandProduct.price,value:this.state.priceFieldValue,onChange:this.onPriceChange})),C.a.createElement("p",{className:"control"},C.a.createElement("a",{className:"button is-static"},"€"))),"Plateau de shooters"===this.state.commandProduct.name?C.a.createElement(q,{price:this.state.productPrice,submitContributions:this.setContributions,partyMembers:this.state.partyMembers}):C.a.createElement(O,{product:this.state.commandProduct,price:this.state.productPrice,partyMembers:this.state.partyMembers,submitContributions:this.setContributions}),C.a.createElement("h2",{className:"subtitle is-size-5"},"4. Validez votre commande"),C.a.createElement("div",{className:"field is-grouped"},C.a.createElement("p",{className:"control"},C.a.createElement("a",{className:"button is-primary",disabled:0===this.state.contributions.length,onClick:this.submit},"Confirmer")),C.a.createElement("p",{className:"control"},C.a.createElement("a",{className:"button is-light navigate",href:Aviator.hrefFor("/parties/:id/",{namedParams:{id:this.partyId}})},"Annuler")))))}}]),t}(C.a.Component)},60:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},n.apply(this,arguments)}e.exports=n},61:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var a=n(5),r=n.n(a),s=n(6),i=n.n(s),o=n(7),c=n.n(o),u=n(8),l=n.n(u),m=n(16),d=n.n(m),p=n(9),h=n.n(p),f=n(0),b=n.n(f),v=n(10),C=n(68),E=n(15),y=n.n(E),g=n(19),P={OTHER:"Autre",SHOT:"Shots",FOOD:"Nourriture",COCKTAIL:"Cocktails",BEER:"Bière",SOFT:"Soft"},k=function(e){function t(e){var n;return r()(this,t),(n=c()(this,l()(t).call(this,e))).state={allProducts:[],filtered:[],selected:-1},n.searchBarChange=n.searchBarChange.bind(d()(n)),n.onProductSelection=n.onProductSelection.bind(d()(n)),n}return h()(t,e),i()(t,[{key:"searchBarChange",value:function(e){var t=e.target.value.toLowerCase();this.setState(function(e,n){return{filtered:e.allProducts.filter(n.preFilter).filter(function(e){if(-1!==e.name.toLowerCase().indexOf(t))return!0;var n=P[e.product_type];return!(!n||-1===n.toLowerCase().indexOf(t))||-1!==e.ingredients.reduce(function(e,t){return e+" "+t},"").toLowerCase().indexOf(t)})}})}},{key:"onProductSelection",value:function(e){this.setState(function(t,n){var a=t.selected===e?-1:e;return n.onProductSelection(a),{selected:a}})}},{key:"componentDidMount",value:function(){var e=this;Object(g.h)().then(function(t){t.ok&&e.setState({allProducts:t.products,filtered:t.products.filter(e.props.preFilter)})}).catch(console.log)}},{key:"render",value:function(){var e=this,t={SHOT:[],COCKTAIL:[],FOOD:[],BEER:[],SOFT:[],OTHER:[]};return this.state.filtered.forEach(function(e){t[e.product_type]&&t[e.product_type].push(e)}),b.a.createElement(b.a.Fragment,null,this.props.showSearchBar&&b.a.createElement("div",{className:"columns"},b.a.createElement("div",{className:"column is-two-fifths"},b.a.createElement("p",{className:"control has-icons-left"},b.a.createElement("input",{className:"input",type:"text",placeholder:"Rechercher",onChange:this.searchBarChange}),b.a.createElement(v.a,{iconName:"search",iconClasses:"is-small is-left"})))),b.a.createElement(C.d,null,Object.keys(t).filter(function(e){return t[e].length>0}).map(function(n){return b.a.createElement(C.b,{key:n,name:P[n]},t[n].map(function(t){return b.a.createElement(C.a,{key:t.id,product:t,onCommand:e.props.onCommand,onSelect:e.onProductSelection,selected:e.state.selected===t.id,showCommandButton:e.props.showCommandButton})}))}),0===Object.keys(t).filter(function(e){return t[e].length>0}).length&&b.a.createElement("h2",{className:"subtitle has-text-centered is-size-6"},"Pas de produits")))}}]),t}(b.a.Component);k.propTypes={showCommandButton:y.a.bool,onCommand:y.a.func,showSearchBar:y.a.bool,preFilter:y.a.func,onProductSelection:y.a.func},k.defaultProps={showCommandButton:!1,onCommand:function(){},showSearchBar:!0,preFilter:function(){return!0},onProductSelection:function(){}}},62:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var a=n(5),r=n.n(a),s=n(6),i=n.n(s),o=n(7),c=n.n(o),u=n(8),l=n.n(u),m=n(9),d=n.n(m),p=n(0),h=n.n(p),f=n(19),b=n(15),v=n.n(b),C=function(e){function t(e){var n;return r()(this,t),(n=c()(this,l()(t).call(this,e))).state={user:null},n}return d()(t,e),i()(t,[{key:"componentDidMount",value:function(){var e=this;Object(f.n)(this.props.userId).then(function(t){t.ok&&e.setState({user:t.user})}).catch(console.log)}},{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,this.state.user&&this.state.user.username)}}]),t}(h.a.Component);C.propTypes={userId:v.a.number.isRequired}},63:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}},64:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});var a=n(15),r=n.n(a),s=r.a.shape({id:r.a.number.isRequired,name:r.a.string.isRequired,price:r.a.number.isRequired,old:r.a.bool.isRequired,product_type:r.a.oneOf(["SHOT","FOOD","COCKTAIL","OTHER","BEER","SOFT"]).isRequired,ingredients:r.a.arrayOf(r.a.shape({id:r.a.number.isRequired,name:r.a.string.isRequired})).isRequired}),i=r.a.shape({user:r.a.number,part:r.a.number.isRequired,product:r.a.number.isRequired,id:r.a.number.isRequired})},68:function(e,t,n){"use strict";var a=n(5),r=n.n(a),s=n(6),i=n.n(s),o=n(7),c=n.n(o),u=n(8),l=n.n(u),m=n(9),d=n.n(m),p=n(0),h=n.n(p),f=n(15),b=n.n(f),v=n(64),C=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){var e=this;return h.a.createElement("li",null,h.a.createElement("a",{className:this.props.selected?"is-active":"",onClick:function(){return e.props.onSelect(e.props.product.id)}},h.a.createElement("div",{className:"columns is-gapless is-multiline"},h.a.createElement("div",{className:"column is-12"},this.props.product.name,h.a.createElement("span",{className:"has-text-right",style:{float:"right"}},this.props.product.price,"€")),this.props.selected&&this.props.product.ingredients.length>0&&h.a.createElement("div",{className:"column is-size-7"},this.props.product.ingredients.map(function(e){return e.name}).reduce(function(e,t){return"".concat(e,", ").concat(t)}))),this.props.showCommandButton&&this.props.selected&&h.a.createElement("button",{className:"button is-link",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.onCommand(e.props.product.id)}},"Commander")))}}]),t}(h.a.Component);C.propTypes={selected:b.a.bool,showCommandButton:b.a.bool,onCommand:b.a.func,onSelect:b.a.func,product:v.b.isRequired},C.defaultProps={selected:!1,showCommandButton:!1,onCommand:function(){},onSelect:function(){}};var E=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("p",{className:"menu-label"},this.props.name),h.a.createElement("ul",{className:"menu-list"},this.props.children))}}]),t}(h.a.Component),y=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return d()(t,e),i()(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"columns"},h.a.createElement("div",{className:"column is-two-fifths"},h.a.createElement("aside",{className:"menu"},this.props.children)))}}]),t}(h.a.Component),g=n(61);n.d(t,"a",function(){return C}),n.d(t,"b",function(){return E}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return g.a})},69:function(e,t,n){var a=n(63);e.exports=function(e,t){if(null==e)return{};var n,r,s=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}},85:function(e,t,n){"use strict";var a=n(5),r=n.n(a),s=n(6),i=n.n(s),o=n(7),c=n.n(o),u=n(8),l=n.n(u),m=n(16),d=n.n(m),p=n(9),h=n.n(p),f=n(0),b=n.n(f),v=n(15),C=n.n(v),E=n(10),y=n(60),g=n.n(y),P=n(69),k=n.n(P),N=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=k()(e,["className"]);return b.a.createElement("td",g()({className:"has-text-centered ".concat(t||"")},n),this.props.children)}}]),t}(b.a.Component),O=function(e){function t(e){var n;return r()(this,t),(n=c()(this,l()(t).call(this,e))).onUserClick=n.onUserClick.bind(d()(n)),n}return h()(t,e),i()(t,[{key:"onUserClick",value:function(){this.props.selected&&this.props.onDeselect?this.props.onDeselect():this.props.onSelect&&this.props.onSelect()}},{key:"render",value:function(){return b.a.createElement("tr",{className:this.props.selected?"is-selected":"",onClick:this.onUserClick},this.props.children,b.a.createElement(N,null,this.props.locked?b.a.createElement(E.a,{iconName:"lock"}):this.props.selected?b.a.createElement(E.a,{iconName:"check-square"}):b.a.createElement("span",{className:"icon"})))}}]),t}(b.a.Component);O.propTypes={selected:C.a.bool.isRequired,onSelect:C.a.func,onDeselect:C.a.func,locked:C.a.bool},O.defaultProps={locked:!1};var S=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),i()(t,[{key:"render",value:function(){return b.a.createElement("table",{className:"table is-striped is-fullwidth is-hoverable"},b.a.createElement("tbody",null,this.props.children))}}]),t}(b.a.Component);n.d(t,"a",function(){return O}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return N})}}]);